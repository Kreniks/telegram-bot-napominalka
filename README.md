# Telegram-бот "Напоминалка"

Простой Telegram-бот для установки напоминаний с учетом часового пояса Омска (+6 UTC).

## Возможности

- ✅ Установка напоминаний в формате "ЧЧ:ММ ДД.ММ.ГГГГ"
- ✅ Установка напоминаний только по времени (на текущий день)
- ✅ Работа в часовом поясе Омска (+6 UTC)
- ✅ Автоматическая отправка напоминаний
- ✅ Хранение одного напоминания на пользователя
- ✅ Валидация времени и даты
- ✅ Обработка ошибок

## Установка и запуск

### Способ 1: Локальный запуск

1. **Клонируйте репозиторий:**
   ```bash
   git clone <repository-url>
   cd telegram-bot-napominalka
   ```

2. **Создайте виртуальное окружение:**
   ```bash
   python -m venv venv
   ```

3. **Активируйте виртуальное окружение:**
   - Windows: `venv\Scripts\activate`
   - Linux/Mac: `source venv/bin/activate`

4. **Установите зависимости:**
   ```bash
   pip install -r requirements.txt
   ```

5. **Настройте переменные окружения:**
   - Скопируйте `.env.example` в `.env`
   - Получите токен бота у [@BotFather](https://t.me/BotFather)
   - Добавьте токен в файл `.env`:
     ```
     BOT_TOKEN=your_bot_token_here
     ```

6. **Запустите бота:**
   - Windows: запустите `run.bat`
   - Linux/Mac: `python main.py`

### Способ 2: Docker

1. **Настройте .env файл** (как в способе 1)

2. **Запустите через Docker Compose:**
   ```bash
   docker-compose up -d
   ```

3. **Просмотр логов:**
   ```bash
   docker-compose logs -f
   ```

4. **Остановка:**
   ```bash
   docker-compose down
   ```

## Использование

1. **Запустите бота:** отправьте `/start`
2. **Установите напоминание:**
   - С датой: `18:00 12.06.2025`
   - Только время (на сегодня): `18:00`
3. **Получите помощь:** отправьте `/help`

## Примеры команд

- `/start` - запуск бота
- `/help` - справка
- `18:00 12.06.2025` - напоминание на 12 июня 2025 в 18:00
- `09:30` - напоминание на сегодня в 09:30

## Структура проекта

```
├── main.py              # Точка входа
├── bot.py               # Основная логика бота
├── config.py            # Конфигурация
├── database.py          # Работа с базой данных
├── handlers.py          # Обработчики сообщений
├── utils.py             # Вспомогательные функции
├── requirements.txt     # Зависимости Python
├── .env.example         # Пример переменных окружения
├── .gitignore          # Игнорируемые файлы
├── run.bat             # Запуск на Windows
├── Dockerfile          # Docker образ
├── docker-compose.yml  # Docker Compose
└── README.md           # Документация
```

## Технические детails

- **Python:** 3.8+
- **Библиотека:** aiogram 3.13.1
- **База данных:** SQLite
- **Часовой пояс:** Asia/Omsk (+6 UTC)
- **Логирование:** В файл `bot.log` и консоль

## Особенности

- Бот хранит только одно напоминание на пользователя
- Новое напоминание заменяет старое
- Автоматическая очистка старых напоминаний
- Проверка напоминаний каждую минуту
- Валидация формата времени и даты
- Обработка ошибок и логирование

## Разработка

Для разработки рекомендуется:

1. Использовать виртуальное окружение
2. Установить зависимости для разработки
3. Настроить логирование на уровень DEBUG
4. Использовать тестового бота для отладки

## Лицензия

MIT License
